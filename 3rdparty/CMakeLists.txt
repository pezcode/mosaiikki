set(BUILD_DEPRECATED OFF CACHE BOOL "" FORCE)

if(NOT BUILD_SHARED_LIBS)
    set(BUILD_STATIC ON CACHE BOOL "" FORCE)
    set(BUILD_PLUGINS_STATIC ON CACHE BOOL "" FORCE)
endif()

# Corrade

set(WITH_MAIN ON CACHE BOOL "" FORCE)
set(WITH_UTILITY ON CACHE BOOL "" FORCE)
set(WITH_RC ON CACHE BOOL "" FORCE)
add_subdirectory(corrade EXCLUDE_FROM_ALL)

# Magnum

set(WITH_SDL2APPLICATION ON CACHE BOOL "" FORCE)
set(WITH_ANYIMAGEIMPORTER ON CACHE BOOL "" FORCE)
set(WITH_DEBUGTOOLS ON CACHE BOOL "" FORCE)
set(WITH_MESHTOOLS ON CACHE BOOL "" FORCE)
set(WITH_SCENEGRAPH ON CACHE BOOL "" FORCE)
set(WITH_SHADERS ON CACHE BOOL "" FORCE)
set(WITH_TRADE ON CACHE BOOL "" FORCE)
set(WITH_GL ON CACHE BOOL "" FORCE)
# Use WebGL 2 (GLES 3)
set(TARGET_GLES2 OFF CACHE BOOL "" FORCE)

add_subdirectory(magnum EXCLUDE_FROM_ALL)

# Magnum plugins

set(WITH_TINYGLTFIMPORTER ON CACHE BOOL "" FORCE)

add_subdirectory(magnum-plugins EXCLUDE_FROM_ALL)

# Magnum integration

set(IMGUI_DIR "${CMAKE_CURRENT_SOURCE_DIR}/imgui")
set(WITH_IMGUI ON CACHE BOOL "" FORCE)

add_subdirectory(magnum-integration EXCLUDE_FROM_ALL)
